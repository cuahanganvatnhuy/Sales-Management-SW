<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n L√Ω C·ª≠a H√†ng - PMQLDH</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="../style/man.css">
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-compat.js"></script>
    <style>
        .card,.page-stats{
            margin: 39px;
        }
        .btn-large {
    padding: 9px 32px;
    font-size: 16px;
    font-weight: 700;
    min-width: 200px;
}
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>ƒêang x·ª≠ l√Ω...</p>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification hidden">
        <div class="notification-content">
            <i class="notification-icon"></i>
            <span class="notification-message"></span>
        </div>
    </div>

    <div class="container">
        <!-- Navbar Component -->
        <div id="navbar-container">
            <!-- Navbar will be loaded here -->
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header Component -->
            <div id="header-container">
                <!-- Header will be loaded here -->
            </div>
            
            <!-- Page Stats -->
            <div class="page-stats">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-store"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="totalStores">0</div>
                        <div class="stat-label">T·ªïng C·ª≠a H√†ng</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon active">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="activeStores">0</div>
                        <div class="stat-label">Ho·∫°t ƒê·ªông</div>
                    </div>
                </div>
            </div>

            <!-- Content -->
            <!-- Add Store Form -->
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-plus-circle"></i> Th√™m C·ª≠a H√†ng M·ªõi</h2>
                </div>
                <div class="card-body">
                    <form id="storeForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="storeName">üè¢ T√™n C·ª≠a H√†ng:</label>
                                <input type="text" id="storeName" name="storeName" required 
                                       placeholder="Nh·∫≠p t√™n c·ª≠a h√†ng">
                            </div>
                            <div class="form-group">
                                <label for="storeOwner">üë§ Ch·ªß C·ª≠a H√†ng:</label>
                                <input type="text" id="storeOwner" name="storeOwner" required 
                                       placeholder="Nh·∫≠p t√™n ch·ªß c·ª≠a h√†ng">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="storeAddress">üìç ƒê·ªãa Ch·ªâ:</label>
                                <input type="text" id="storeAddress" name="storeAddress" required 
                                       placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ c·ª≠a h√†ng">
                            </div>
                            <div class="form-group">
                                <label for="storePhone">üìû S·ªë ƒêi·ªán Tho·∫°i:</label>
                                <input type="tel" id="storePhone" name="storePhone" required 
                                       placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="storeEmail">‚úâÔ∏è Email:</label>
                                <input type="email" id="storeEmail" name="storeEmail" 
                                       placeholder="Nh·∫≠p email (t√πy ch·ªçn)">
                            </div>
                            <div class="form-group">
                                <label for="storeStatus">üü¢ Tr·∫°ng Th√°i:</label>
                                <select id="storeStatus" name="storeStatus" required>
                                    <option value="active">Ho·∫°t ƒê·ªông</option>
                                    <option value="inactive">T·∫°m D·ª´ng</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" onclick="clearForm()">
                                <i class="fas fa-times"></i> H·ªßy B·ªè
                            </button>
                            <button type="submit" class="btn btn-primary btn-large">
                                <i class="fas fa-save"></i> L∆∞u C·ª≠a H√†ng
                            </button>
                           
                        </div>
                    </form>
                </div>
            </div>

            <!-- Stores List -->
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-list"></i> Danh S√°ch C·ª≠a H√†ng</h2>
                    <div class="card-header-actions">
                        <div class="search-box">
                            <input type="text" id="searchStores" placeholder="T√¨m ki·∫øm c·ª≠a h√†ng..." 
                                   onkeyup="searchStores()">
                            <i class="fas fa-search"></i>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <!-- Bulk Actions -->
                    <div class="bulk-actions hidden" id="bulkActions">
                        <button type="button" class="btn btn-danger" onclick="deleteSelectedStores()">
                            <i class="fas fa-trash"></i> X√≥a ƒê√£ Ch·ªçn (<span id="selectedCount">0</span>)
                        </button>
                    </div>

                    <!-- Stores Table -->
                    <div class="table-container">
                        <table class="products-table" id="storesTable">
                            <thead>
                                <tr>
                                    <th class="checkbox-col">
                                        <input type="checkbox" id="selectAll" onchange="toggleSelectAll()">
                                    </th>
                                    <th class="stt-col">STT</th>
                                    <th class="name-col">C·ª≠a H√†ng</th>
                                    <th class="owner-col">Ch·ªß C·ª≠a H√†ng</th>
                                    <th class="contact-col">Li√™n H·ªá</th>
                                    <th class="status-col">Tr·∫°ng Th√°i</th>
                                    <th class="stats-col">Th·ªëng K√™</th>
                                    <th class="action-col">Thao T√°c</th>
                                </tr>
                            </thead>
                            <tbody id="storesContainer">
                                <!-- D·ªØ li·ªáu c·ª≠a h√†ng s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                            </tbody>
                        </table>

                        <!-- Empty State -->
                        <div id="emptyState" class="empty-state hidden">
                            <div class="empty-icon">
                                <i class="fas fa-store"></i>
                            </div>
                            <h3>Ch∆∞a c√≥ c·ª≠a h√†ng n√†o</h3>
                            <p>H√£y th√™m c·ª≠a h√†ng ƒë·∫ßu ti√™n c·ªßa b·∫°n!</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="../main/navbar.js"></script>
    <script src="../main/firebase.js"></script>
    <script src="../main/submenu.js"></script>
    <script src="../main/header.js"></script>
    <script src="../main/order-type-selection.js"></script>
    <script src="../main/stores.js"></script>
    <script>
        // Load components
        document.addEventListener('DOMContentLoaded', function() {
            // Load navbar
            fetch('../components/navbar.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('navbar-container').innerHTML = html;
                    // Set active nav item
                    document.getElementById('nav-stores').classList.add('active');
                });
            
            // Load header
            fetch('../components/header.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('header-container').innerHTML = html.replace('{{PAGE_TITLE}}', 'Qu·∫£n L√Ω C·ª≠a H√†ng');
                });
        });
    </script>
</body>
</html>